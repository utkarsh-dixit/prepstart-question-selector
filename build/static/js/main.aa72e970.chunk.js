(this["webpackJsonpquestion-selector"]=this["webpackJsonpquestion-selector"]||[]).push([[0],{40:function(e,t,n){e.exports=n(79)},45:function(e,t,n){},46:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(14),c=n.n(s),o=(n(45),n(7)),i=n(8),u=n(10),l=n(9),p=n(11),h=(n(46),n(16)),d=n(6),m=n(35),f=n.n(m),b=n(24),v=n(36),y=n.n(v),g=n(37),O=n(4),j=n(1),k=n.n(j),E=n(5),S=n(17),w=n.n(S),x=n(23),T=n.n(x);w.a.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMSwicm9sZSI6InN0YW5kYXJkIiwiaWF0IjoxNTcwOTcyMzU1fQ.GP0vPy5R5UqFcrLSg_EovQAZkgeoszAR6OdTg1oJYHU";var C,P=function(){var e=Object(E.a)(k.a.mark((function e(t,n){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=0===Object.entries(n).length?w.a.get(T.a.resolve("https://backend.prepstart.co/",t)):w.a.post(T.a.resolve("https://backend.prepstart.co/",t),n),e.next=3,r.then((function(e){a=e})).catch((function(e){throw alert("Your Internet is not on"),e}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I="RESET_ALL",N="CHANGE_STATE",D="REMOVE_STEP",_="CHANGE_STEP",A=1,Y=2,M=3,X=4,L=5,R=6,B=7,H=(C={},Object(O.a)(C,A,Y),Object(O.a)(C,Y,M),Object(O.a)(C,M,X),Object(O.a)(C,X,L),Object(O.a)(C,L,R),Object(O.a)(C,R,B),C),J=1,z=2;function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={values:{},step:A};var F=Object(d.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return K({},e,{step:t.step,values:K({},e.values,Object(O.a)({},t.currentStep,t.values))});case _:return K({},e,{step:t.step});case D:return K({},e,{values:K({},e.values,Object(O.a)({},t.step,null))});case I:return q;default:return e}}}),W={key:"parser",storage:y.a},G=Object(b.a)(W,F),Q=Object(d.d)(G,{},Object(d.a)(g.a,f.a)),V=Object(b.b)(Q,null),Z=n(38),$=n(2),ee=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.callback,a=e.destroyProgressCallback,s=e.completed,c=e.selected,o=[te.container];return c&&o.push(te.selected),r.a.createElement("div",{className:$.b.apply(void 0,o),onClick:n},r.a.createElement("div",{className:Object($.b)(te.text)},t),s&&r.a.createElement("div",{className:Object($.b)(te.cancel),onClick:a}))}}]),t}(r.a.Component),te=$.a.create({container:{display:"flex",background:"#272727",padding:"0.8rem 2rem",fontSize:"1.1rem",borderRadius:"1px",marginBottom:"1rem",justifyContent:"center",cursor:"pointer"},selected:{background:"green"},text:{color:"#fff"},cancel:{color:"#fff"}}),ne=n(39),ae=n.n(ne),re=(n(78),function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.props.callback(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"text-input"},r.a.createElement("input",{type:"text",onChange:this.handleChange.bind(this),value:this.props.value,placeholder:this.props.placeholder}),r.a.createElement("label",{htmlFor:"input1"},this.props.title))}}]),t}(r.a.Component)),se=($.a.create({}),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).viewerRef=void 0,n.backend=void 0,n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,s=e.height;return c.a.createPortal(r.a.createElement("div",{className:Object($.b)(ce.overlay),style:{top:n,left:t,width:a>=0?a:0,height:s>=0?s:0}}),document.getElementsByTagName("body")[0])}}]),t}(r.a.Component)),ce=$.a.create({overlay:{background:"rgba(0, 0, 0, 0.3)",position:"absolute",zIndex:12}});function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).pdfRef=void 0,n.metadata=void 0,n.pdfRef=r.a.createRef(),n.state={cropping:{value:!1},mousePos:{X:0,Y:0},values:{},config:{subject_id:1,topic_id:19,difficulty:"easy",summary:"Empty summary"}},n.metadata={},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.onMouseMove.bind(this),!1),document.addEventListener("keydown",this.onKeyDown.bind(this),!1),document.addEventListener("keyup",this.onKeyUp.bind(this),!1)}},{key:"componentDidUpdate",value:function(){if(this.props.step===R){var e=parseInt(prompt("Which is the correct answer?"));this.moveToNextStep(e,J)}if(this.props.step===B){this.props.values[A];var t={1:this.props.values[Y],2:this.props.values[M],3:this.props.values[X],4:this.props.values[L]},n=this.props.values[R],a={title:this.props.values[A].mode===J?this.props.values[A].content:null,mode:this.props.values[A].mode,difficulty:this.state.config.difficulty,metadata:JSON.stringify(this.metadata),image:this.props.values[A].mode===z?this.props.values[A].content:null,topic_id:parseInt(this.state.config.topic_id),subject_id:parseInt(this.state.config.subject_id),summary:this.state.config.summary,options:[{optionText:t[1].content,mode:t[1].mode,isCorrect:1===n},{optionText:t[2].content,mode:t[2].mode,isCorrect:2===n},{optionText:t[3].content,mode:t[3].mode,isCorrect:3===n},{optionText:t[4].content,mode:t[4].mode,isCorrect:4===n}]};console.log(a);this.props.submit(a)}}},{key:"cropCanvas",value:function(e,t,n,a,r){var s=document.createElement("canvas");return s.width=a,s.height=r,s.getContext("2d").drawImage(e,t,n,a,r,0,0,a,r),s}},{key:"onMouseMove",value:function(){var e=Object(E.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({mousePos:{X:t.clientX,Y:t.clientY}});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onKeyUp",value:function(){var e=Object(E.a)(k.a.mark((function e(t){var n,a,r,s,c,o,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.cropping.value||16!=t.keyCode){e.next=14;break}return n=Math.abs(this.state.mousePos.X-this.state.cropping.clientX),a=Math.abs(this.state.mousePos.Y-this.state.cropping.clientY),document.body.style.cursor="default",(r=document.getElementById("myStyle"))&&(r.textContent=""),s=this.state.cropping.clientX,c=this.state.cropping.clientY,this.setState({cropping:{value:!1}}),e.next=11,ae()(document.querySelector("body"),{scale:1});case 11:o=e.sent,i=this.cropCanvas(o,1*s,1*c,1*n,1*a),this.moveToNextStep(i.toDataURL("image/png"),z);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"moveToNextStep",value:function(e,t){this.props.step!==B&&this.props.moveToNextStep(this.props.step,{content:e,mode:t})}},{key:"onKeyDown",value:function(){var e=Object(E.a)(k.a.mark((function e(t){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Presesd"),n=t.keyCode,!(t.ctrlKey||t.metaKey)||67!=n){e.next=11;break}return console.log("LAA"),e.next=7,navigator.clipboard.readText();case 7:a=e.sent,this.moveToNextStep(a,J),e.next=12;break;case 11:16==n&&(this.setState({cropping:{value:!0,clientX:this.state.mousePos.X,clientY:this.state.mousePos.Y}}),document.body.style.cursor="crosshair",(r=document.getElementById("myStyle")?document.getElementById("myStyle"):document.createElement("style")).id="myStyle",r.textContent="\n                .textLayer > span{\n                    cursor: crosshair;\n                    -webkit-touch-callout: none; /* iOS Safari */\n                    -webkit-user-select: none; /* Safari */\n                     -khtml-user-select: none; /* Konqueror HTML */\n                       -moz-user-select: none; /* Old versions of Firefox */\n                        -ms-user-select: none; /* Internet Explorer/Edge */\n                            user-select: none; /* Non-prefixed version, currently\n                                                  supported by Chrome, Opera and Firefox */\n                }\n            ",document.getElementById("myStyle")||document.body.appendChild(r));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTopicId",value:function(e){this.setState(ie({},this.state,{config:ie({},this.state.config,{topic_id:e})}))}},{key:"updateSubjectId",value:function(e){this.setState(ie({},this.state,{config:ie({},this.state.config,{subject_id:e})}))}},{key:"updateSummary",value:function(e){this.setState(ie({},this.state,{config:ie({},this.state.config,{summary:e})}))}},{key:"updateDifficulty",value:function(e){this.setState(ie({},this.state,{config:ie({},this.state.config,{difficulty:e})}))}},{key:"goToThisStep",value:function(e){this.props.moveToThisStep(e)}},{key:"render",value:function(){var e=this.props.step===A,t=this.props.step===Y,n=this.props.step===M,a=this.props.step===X,s=this.props.step===L,c=this.props.step===R;return r.a.createElement("div",{className:Object($.b)(le.container)},r.a.createElement("div",{className:Object($.b)(le.stepsSection)},r.a.createElement("div",{className:Object($.b)(le.stepsHeading)},"Config"),r.a.createElement("div",{className:Object($.b)(le.buttonsContainer)},r.a.createElement(re,{placeholder:"Enter topic_id",title:"Topic",value:this.state.config.topic_id,callback:this.updateTopicId.bind(this)}),r.a.createElement(re,{placeholder:"Enter subject_id",title:"Subject",value:this.state.config.subject_id,callback:this.updateSubjectId.bind(this)}),r.a.createElement(re,{placeholder:"Enter difficulty",title:"Difficulty",value:this.state.config.difficulty,callback:this.updateDifficulty.bind(this)}),r.a.createElement(re,{placeholder:"Enter summary",title:"Summary",value:this.state.config.summary,callback:this.updateSummary.bind(this)})),r.a.createElement("div",{className:Object($.b)(le.stepsHeading)}),r.a.createElement("div",{className:Object($.b)(le.stepsHeading)}),r.a.createElement("div",{className:Object($.b)(le.stepsHeading)},"Steps"),r.a.createElement("div",{className:Object($.b)(le.buttonsContainer)},r.a.createElement(ee,{text:"Select Question",selected:e,callback:this.goToThisStep.bind(this,A)}),r.a.createElement(ee,{text:"Select Answer 1",selected:t,callback:this.goToThisStep.bind(this,Y)}),r.a.createElement(ee,{text:"Select Answer 2",selected:n,callback:this.goToThisStep.bind(this,M)}),r.a.createElement(ee,{text:"Select Answer 3",selected:a,callback:this.goToThisStep.bind(this,X)}),r.a.createElement(ee,{text:"Select Answer 4",selected:s,callback:this.goToThisStep.bind(this,L)}),r.a.createElement(ee,{text:"Select Correct Answer",selected:c,callback:this.goToThisStep.bind(this,R)}))),this.state.cropping&&r.a.createElement(se,{x:this.state.cropping.clientX,y:this.state.cropping.clientY,width:Math.abs(this.state.mousePos.X-this.state.cropping.clientX),height:Math.abs(this.state.mousePos.Y-this.state.cropping.clientY)}))}}]),t}(a.Component),le=$.a.create({container:{display:"flex",background:"#fff"},stepsSection:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100vh",fontSize:"1.3rem"},buttonsContainer:{},stepsHeading:{marginBottom:"1rem"}}),pe={moveToNextStep:function(e,t){return function(){var n=Object(E.a)(k.a.mark((function n(a){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:N,values:t,currentStep:e,step:H[e]});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},resetAll:function(){return function(){var e=Object(E.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:I});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},submit:function(e,t){return function(){var n=Object(E.a)(k.a.mark((function n(a){var r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:I}),n.next=3,P("/createQuestion",e);case 3:r=n.sent,t(r.data);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},moveToThisStep:function(e){return function(){var t=Object(E.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:_,step:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},he=Object(h.b)((function(e){var t=e.app;return{step:t.step,values:t.values}}),pe)(ue),de=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{store:Q},r.a.createElement(Z.a,{loading:r.a.createElement("div",null,"Loading..."),persistor:V},r.a.createElement(he,null)))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(de,null),document.getElementById("sidebarElement")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.aa72e970.chunk.js.map