(this["webpackJsonpquestion-selector"]=this["webpackJsonpquestion-selector"]||[]).push([[0],{40:function(e,t,n){e.exports=n(78)},45:function(e,t,n){},46:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),s=n.n(o),c=(n(45),n(9)),i=n(10),u=n(12),p=n(11),l=n(13),d=(n(46),n(16)),m=n(3),f=n(35),h=n.n(f),v=n(24),b=n(36),y=n.n(b),O=n(37),j=n(5),g=n(1),x=n.n(g),w=n(4),k=n(17),E=n.n(k),S=n(23),C=n.n(S);E.a.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMSwicm9sZSI6InN0YW5kYXJkIiwiaWF0IjoxNTcwOTcyMzU1fQ.GP0vPy5R5UqFcrLSg_EovQAZkgeoszAR6OdTg1oJYHU";var I,N=function(){var e=Object(w.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0===Object.entries(n).length?E.a.get(C.a.resolve("https://backend.prepstart.co/",t)):E.a.post(C.a.resolve("https://backend.prepstart.co/",t),n),e.next=3,a.then((function(e){r=e})).catch((function(e){throw alert("Your Internet is not on"),e}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P="RESET_ALL",T="CHANGE_STATE",A="REMOVE_STEP",Y=1,_=2,L=3,M=4,X=5,D=6,R=7,B=(I={},Object(j.a)(I,Y,_),Object(j.a)(I,_,L),Object(j.a)(I,L,M),Object(j.a)(I,M,X),Object(j.a)(I,X,D),Object(j.a)(I,D,R),I),J=1,U=2;function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={values:{},step:Y};var H=Object(m.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return K({},e,{step:t.step,values:K({},e.values,Object(j.a)({},t.currentStep,t.values))});case A:return K({},e,{values:K({},e.values,Object(j.a)({},t.step,null))});case P:return q;default:return e}}}),W={key:"parser",storage:y.a},F=Object(v.a)(W,H),Q=Object(m.d)(F,{},Object(m.a)(O.a,h.a)),G=Object(v.b)(Q,null),V=n(38),Z=n(6),$=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.callback,r=e.destroyProgressCallback,o=e.completed;return a.a.createElement("div",{className:Object(Z.b)(ee.container),onClick:n},a.a.createElement("div",{className:Object(Z.b)(ee.text)},t),o&&a.a.createElement("div",{className:Object(Z.b)(ee.cancel),onClick:r}))}}]),t}(a.a.Component),ee=Z.a.create({container:{display:"flex",background:"#272727",padding:"0.8rem 2rem",fontSize:"1.1rem",borderRadius:"1px",marginBottom:"1rem",justifyContent:"center",cursor:"pointer"},text:{color:"#fff"},cancel:{color:"#fff"}}),te=n(39),ne=n.n(te),re=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).pdfRef=void 0,n.subject_id=void 0,n.topic_id=void 0,n.difficulty=void 0,n.metadata=void 0,n.summary=void 0,n.pdfRef=a.a.createRef(),n.state={cropping:{value:!1},mousePos:{X:0,Y:0},values:{}},n.summary="Empty summary",n.difficulty="easy",n.topic_id=19,n.subject_id=1,n.metadata={},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.onMouseMove.bind(this),!1),document.addEventListener("keydown",this.onKeyDown.bind(this),!1),document.addEventListener("keyup",this.onKeyUp.bind(this),!1)}},{key:"componentDidUpdate",value:function(){if(this.props.step===D){var e=parseInt(prompt("Which is the correct answer?"));this.moveToNextStep(e,J)}if(this.props.step===R){this.props.values[Y];var t={1:this.props.values[_],2:this.props.values[L],3:this.props.values[M],4:this.props.values[X]},n=this.props.values[D],r={title:this.props.values[Y].mode===J?this.props.values[Y].content:null,mode:this.props.values[Y].mode,difficulty:this.difficulty,metadata:JSON.stringify(this.metadata),image:this.props.values[Y].mode===U?this.props.values[Y].content:null,topic_id:this.topic_id,subject_id:this.subject_id,summary:this.summary,options:[{optionText:t[1].content,mode:t[1].mode,isCorrect:1===n},{optionText:t[2].content,mode:t[2].mode,isCorrect:2===n},{optionText:t[3].content,mode:t[3].mode,isCorrect:3===n},{optionText:t[4].content,mode:t[4].mode,isCorrect:4===n}]};console.log(r);this.props.submit(r)}}},{key:"cropCanvas",value:function(e,t,n,r,a){var o=document.createElement("canvas");return o.width=r,o.height=a,o.getContext("2d").drawImage(e,t,n,r,a,0,0,r,a),o}},{key:"onMouseMove",value:function(){var e=Object(w.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({mousePos:{X:t.clientX,Y:t.clientY}});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onKeyUp",value:function(){var e=Object(w.a)(x.a.mark((function e(t){var n,r,a,o,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.cropping.value||16!=t.keyCode){e.next=12;break}return n=Math.abs(this.state.mousePos.X-this.state.cropping.clientX),r=Math.abs(this.state.mousePos.Y-this.state.cropping.clientY),document.body.style.cursor="default",(a=document.getElementById("myStyle"))&&(a.textContent=""),e.next=8,ne()(document.querySelector("body"),{scale:1});case 8:o=e.sent,s=this.cropCanvas(o,1*this.state.cropping.clientX,1*this.state.cropping.clientY,1*n,1*r),this.moveToNextStep(s.toDataURL("image/png"),U),this.setState({cropping:{value:!1}});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"moveToNextStep",value:function(e,t){this.props.step!==R&&this.props.moveToNextStep(this.props.step,{content:e,mode:t})}},{key:"onKeyDown",value:function(){var e=Object(w.a)(x.a.mark((function e(t){var n,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Presesd"),n=t.keyCode,!(t.ctrlKey||t.metaKey)||67!=n){e.next=11;break}return console.log("LAA"),e.next=7,navigator.clipboard.readText();case 7:r=e.sent,this.moveToNextStep(r,J),e.next=12;break;case 11:16==n&&(this.setState({cropping:{value:!0,clientX:this.state.mousePos.X,clientY:this.state.mousePos.Y}}),document.body.style.cursor="crosshair",(a=document.getElementById("myStyle")?document.getElementById("myStyle"):document.createElement("style")).id="myStyle",a.textContent="\n                .textLayer > span{\n                    cursor: crosshair;\n                    -webkit-touch-callout: none; /* iOS Safari */\n                    -webkit-user-select: none; /* Safari */\n                     -khtml-user-select: none; /* Konqueror HTML */\n                       -moz-user-select: none; /* Old versions of Firefox */\n                        -ms-user-select: none; /* Internet Explorer/Edge */\n                            user-select: none; /* Non-prefixed version, currently\n                                                  supported by Chrome, Opera and Firefox */\n                }\n            ",document.getElementById("myStyle")||document.body.appendChild(a));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",{className:Object(Z.b)(ae.container)},a.a.createElement("div",{className:Object(Z.b)(ae.stepsSection)},a.a.createElement("div",{className:Object(Z.b)(ae.stepsHeading)},"Steps"),a.a.createElement("div",{className:Object(Z.b)(ae.buttonsContainer)},a.a.createElement($,{text:"Select Question"}),a.a.createElement($,{text:"Select Answer 1"}),a.a.createElement($,{text:"Select Answer 2"}),a.a.createElement($,{text:"Select Answer 3"}),a.a.createElement($,{text:"Select Answer 4"}),a.a.createElement($,{text:"Select Correct Answer"}))))}}]),t}(r.Component),ae=Z.a.create({container:{display:"flex",background:"#fff"},stepsSection:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100vh",fontSize:"1.3rem"},buttonsContainer:{},stepsHeading:{marginBottom:"1rem"}}),oe={moveToNextStep:function(e,t){return function(){var n=Object(w.a)(x.a.mark((function n(r){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:T,values:t,currentStep:e,step:B[e]});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},resetAll:function(){return function(){var e=Object(w.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:P});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},submit:function(e,t){return function(){var n=Object(w.a)(x.a.mark((function n(r){var a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:P}),n.next=3,N("/createQuestion",e);case 3:a=n.sent,t(a.data);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},se=Object(d.b)((function(e){var t=e.app;return{step:t.step,values:t.values}}),oe)(re),ce=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).call(this,e))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(d.a,{store:Q},a.a.createElement(V.a,{loading:a.a.createElement("div",null,"Loading..."),persistor:G},a.a.createElement(se,null)))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(ce,null),document.getElementById("sidebarElement")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.b80e3929.chunk.js.map